# 스택/큐 > 다리를 지나는 트럭 (Level 2)
문제 : https://programmers.co.kr/learn/courses/30/lessons/42583

## 문제 설명
트럭 여러 대가 강을 가로지르는 일 차선 다리를 정해진 순으로 건너려 합니다. 모든 트럭이 다리를 건너려면 최소 몇 초가 걸리는지 알아내야 합니다. 트럭은 1초에 1만큼 움직이며, 다리 길이는 bridge_length이고 다리는 무게 weight까지 견딥니다.
※ 트럭이 다리에 완전히 오르지 않은 경우, 이 트럭의 무게는 고려하지 않습니다.

예를 들어, 길이가 2이고 10kg 무게를 견디는 다리가 있습니다. 무게가 [7, 4, 5, 6]kg인 트럭이 순서대로 최단 시간 안에 다리를 건너려면 다음과 같이 건너야 합니다.

| 경과 시간 | 다리를 지난 트럭 | 다리를 건너는 트럭 | 대기 트럭 |
| --- | --- | --- | --- |
| 0 | [] | [] |	[7,4,5,6] |
| 1~2 |	[] | [7] | [4,5,6] |
| 3 | [7] | [4] | [5,6] |
| 4	| [7] | [4,5] | [6] |
| 5 | [7,4] | [5] | [6] |
| 6~7 |	[7,4,5] | [6] |	[] |
| 8	| [7,4,5,6] | [] | [] |
따라서, 모든 트럭이 다리를 지나려면 최소 8초가 걸립니다.

solution 함수의 매개변수로 다리 길이 bridge_length, 다리가 견딜 수 있는 무게 weight, 트럭별 무게 truck_weights가 주어집니다. 이때 모든 트럭이 다리를 건너려면 최소 몇 초가 걸리는지 return 하도록 solution 함수를 완성하세요.

## 제한사항
- bridge_length는 1 이상 10,000 이하입니다.
- weight는 1 이상 10,000 이하입니다.
- truck_weights의 길이는 1 이상 10,000 이하입니다.
- 모든 트럭의 무게는 1 이상 weight 이하입니다.

## 입출력 예
| bridge_length | weight | truck_weights | return |
| --- | --- | ---| --- |
| 2 | 10 | [7,4,5,6] | 8 |
| 100 | 100 | [10] | 101 |
| 100 | 100 | [10,10,10,10,10,10,10,10,10,10] |	110 |

____

> #### < Code : Python >
```python
def solution_passingTruck(bridge_length, weight, truck_weights):
    answer = 0
    numbers = len(truck_weights)      # 전체 트럭 개수 확인
    finish = []
    passing = [0] * bridge_length     # 다리 위 상황 리스트 생성
    
    while len(finish) < numbers:
        answer += 1
        if passing[0] > 0:            # 다리를 빠져나갈 수 있는 트럭이 있는지
            finish.append(passing.pop(0))
        else:
            passing.pop(0)
            
        # 대기 중인 트럭 존재여부 AND 다리 제한하중 초과 여부   
        if truck_weights and sum(passing) + truck_weights[0] <= weight:
            passing.append(truck_weights.pop(0))
        else:
            passing.append(0)
    return answer
```

## 문제 리뷰
- (Key !) 다리의 길이만큼 0으로 이루어진 리스트를 만들어 다리에 진입한 트럭이 1초마다 한 칸씩 왼쪽으로 움직이도록 함. 예를 들어, 길이가 2인 다리에 트럭이 진입한다고 하면, 아래와 같이 표현함.
     + 0초 : [0, 0]
     + 1초 : [0, 트럭]
     + 2초 : [트럭, 0]
     + 3초 : [0, 0]

- 우선 다리를 지나가야하는 트럭의 개수를 세어 numbers 변수에 따로 저장해둠.
- 다리를 완전히 다 건넌 트럭들을 finsish 리스트에 저장
- 다리의 길이만큼 0으로 이루어진 리스트를 생성 : passing
- 다리를 건넌 트럭의 개수가 모든 트럭의 개수와 같아질 때까지 loop
- 다리의 가장 왼쪽, 즉 passing[0]에 0보다 큰 수가 있으면 pop하여 finsish 리스트에 저장. 아니면, 그냥 0을 빼주기만 함
- 이미 진입한 트럭의 무게와 진입 예정인 트럭의 무게 합이 다리의 제한하중보다 적거나 같을 때 대기 중이던 트럭 진입. 그렇지 않으면 0 삽입
- !! 이때, truck_weights[0]의 인덱스가 벗어나지 않도록 대기 중인 트럭 존재 확인

___
___
#### 시행착오

- 처음에는 passing 리스트를 빈 리스트로 만들어 트럭이 다리에 진입하면 passing 리스트에 추가하고, 다리를 빠져나가면 리스트에서 삭제하여 파악하려 했으나 진입한 트럭별로 다리를 빠져나가는 시간을 측정하는데 어려움을 겪음.
- 큐(Queue)의 특징인 선입선출(FIFO)을 생각하여, 0으로 이루어진 다리 리스트를 만들어 이를 해결함.
- 또한, 마지막으로 대기 중이던 트럭이 다리에 진입하면 truck_weights[0]가 존재하지
않게 되는데, 이를 위해 대기 중인 트럭의 존재여부에 대한 조건문을 추가하여 해결함.